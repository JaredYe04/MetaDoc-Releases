# MetaDoc

<div align="center">

![Version](https://img.shields.io/badge/version-0.12.1-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux%20%7C%20Android-lightgrey.svg)

**基于LLM Agent的智能文字处理软件**

面向学生与IT从业者的多功能智能文档处理平台
官方QQ群：1079841705
[功能特性](#功能特性) • [技术架构](#技术架构) • [快速开始](#快速开始) • [项目结构](#项目结构)

</div>

---

## 📖 项目简介

MetaDoc 是一款面向学生与IT从业者的多功能智能文字处理软件。作为一款高效的生产力工具，通过多智能体技术，弥补了传统工具在图表绘制、代码渲染、数据分析和AI辅助写作上的不足。

### 核心价值

- **🤖 智能化**：基于LLM Agent的多智能体架构，实现精准上下文分析与深度校对
- **⚡ 高效性**：支持AI并发任务处理，可在短时间内生成大量内容
- **📊 专业性**：原生支持UML、脑图、思维导图、程序流程图等专业图表绘制
- **🔄 兼容性**：支持Markdown、LaTeX等多种文档格式，兼容多种操作系统平台

## ✨ 功能特性

### 📝 文档编辑

- **Markdown编辑器**：支持实时预览、语法高亮、数学公式渲染
- **LaTeX编辑器**：完整的LaTeX编译支持，Monaco编辑器集成
- **多标签页管理**：支持同时编辑多个文档
- **文件关联**：自动关联 `.md` 和 `.tex` 文件

### 🤖 AI智能功能

- **LLM Agent框架**：完整的多智能体系统
  - 工具集管理（ToolCollection）
  - 工作流引擎（Workflow）
  - Agent配置管理（AgentConfig）
  - 会话管理系统（AgentSession）
- **RAG知识库**：基于SQLite + sqlite-vec的向量检索系统
  - 文档向量化存储
  - 相似度搜索
  - 混合检索（向量+关键词）
- **AI对话**：智能对话助手，支持上下文理解
- **AI校对**：智能文本校对和优化建议
- **公式识别**：OCR公式识别与转换

### 📤 导出功能

支持多种格式导出：

| 源格式 | 支持导出格式 |
|--------|------------|
| Markdown | MD, HTML, DOCX, PDF, TEX |
| LaTeX | TEX, PDF, MD, HTML, DOCX |
| JSON | JSON, MD (计划中) |

### 📊 数据可视化

- **图表绘制**：UML、流程图、思维导图、脑图
- **数据分析**：数据表格处理与可视化
- **词云生成**：文本词频分析与可视化

### 🔧 其他功能

- **OCR识别**：图片文字识别
- **文件转换**：支持多种文档格式转换
- **附件管理**：文档附件管理窗口
- **国际化支持**：多语言界面（中文、英文、日文、韩文、德文、法文）

## 🏗️ 技术架构

### 技术栈

- **前端框架**：Vue 3 + TypeScript
- **桌面框架**：Electron 31
- **移动端**：Capacitor 7
- **UI组件库**：TDesign Vue Next + Element Plus
- **编辑器**：
  - Monaco Editor（LaTeX编辑）
  - Vditor（Markdown编辑）
- **数据库**：
  - SQLite（better-sqlite3）
  - sqlite-vec（向量数据库）
- **构建工具**：Electron Vite + Vite
- **状态管理**：Pinia
- **路由**：Vue Router

### 架构设计

```
┌─────────────────────────────────────────┐
│         用户界面层 (Vue 3)              │
│  - 编辑器、AI对话、图表、设置等          │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│        渲染进程 (Renderer)              │
│  - Vue应用、组件、服务、工具类           │
└─────────────────┬───────────────────────┘
                  │ IPC通信
┌─────────────────▼───────────────────────┐
│         主进程 (Main Process)            │
│  - 窗口管理、文件系统、系统服务          │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│        系统服务层                        │
│  - AI服务、RAG服务、导出服务、数据库      │
└─────────────────────────────────────────┘
```

### 核心模块

#### 1. Agent框架 (`src/renderer/src/utils/agent-framework/`)

- **工作流引擎**：有向图执行引擎，支持条件、循环、并行、合并等控制流节点
- **工具集管理**：工具的组织与管理
- **Agent配置**：LLM配置、行为配置、场景分类
- **会话管理**：消息队列、引用素材、公共上下文、重试机制

#### 2. RAG知识库 (`src/main/utils/rag-service.ts`)

- 基于SQLite + sqlite-vec的向量存储
- 文档分块与向量化
- 相似度搜索与混合检索
- 支持本地模型和API模式

#### 3. 导出系统 (`src/main/export/`)

- 模块化导出适配器
- 支持多种格式转换
- 公式转换与渲染
- 字体与样式管理

#### 4. 数据库 (`src/main/database/`)

- SQLite数据库管理
- 知识库数据存储
- 数据库迁移系统


## 🐛 问题反馈

如遇到问题，请通过以下方式反馈：

1. 在 GitHub Issues 中提交问题
2. 提供详细的错误信息和复现步骤
3. 包含操作系统和版本信息


## 👥 作者

**Jared Ye**

## 🙏 致谢

感谢所有为本项目做出贡献的开发者和用户！

---

<div align="center">

**⭐ 如果这个项目对你有帮助，请给个 Star！**

Made with ❤️ by ByteLight

</div>

